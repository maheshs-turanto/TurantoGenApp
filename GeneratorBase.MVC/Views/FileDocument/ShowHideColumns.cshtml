

@model GeneratorBase.MVC.Models.FileDocument
@{

  

    ViewBag.Title = "Show Hide Columns";
    var parentUrl = new System.Collections.Specialized.NameValueCollection();
    if (Request.UrlReferrer != null)
    {
        parentUrl = HttpUtility.ParseQueryString(Request.UrlReferrer.Query);
    }
    Layout = null;
    var isHosted = ViewData["HostingEntity"] != null && ViewData["HostingEntityID"] != null ? true : false;
    var HostingEntityName = Convert.ToString(ViewData["HostingEntity"]);
    var HostingEntityID = Convert.ToString(ViewData["HostingEntityID"]);
    var AssociatedType = Convert.ToString(ViewData["AssociatedType"]);
    var viewtype= ViewData["viewtype"];
	var modelproperties = ModelReflector.Entities.FirstOrDefault(p => p.Name == "FileDocument").Properties;
	ModelReflector.Property property = null;
    var ColumnClick = "ColumnClick";
    if(ViewData["viewtype"] == "CardIndexPartial")
    {
        ColumnClick = "ColumnClickKanban";
        <script>
            function ColumnClickKanban(e,EntityName)
            {
                var buttons = document.getElementsByName('ColumnClickFileDocument');
                for (var i = 0; i < buttons.length; i++)
                {
                    var onclick  = $(buttons[i]).attr("onclick");
                    window[onclick](e);
                }
            }
        </script>
    }
}
<script type="text/javascript">
    $(document).ready(function ()
    {
         var usrName = "@User.JavaScriptEncodedName";
        var myCookie = usrName + "FileDocument" + "@ViewData["AssociatedType"]";
        var host = "#FileDocument";
        if ("@ViewData["AssociatedType"]".length > 0)
            host = "#" + "@ViewData["AssociatedType"]";
        if ($.cookie(myCookie) != null) {
            var column = $.cookie(myCookie).split(',');
            for (var i = 0; i < column.length; i++) {
                if (column[i] == "col1")
                    continue;
                $('input[name=' + column[i] + ']', $(host)).attr('checked', false);
                var index = column[i].substr(3)
               //index--;
                $('table tr', $(host)).each(function () {
                    $('td:eq(' + index + ')', this).hide();
                });
                $('th.' + column[i], $(host)).hide();
            }
        }
    });
</script>
<style>
    input[type=checkbox], input[type=radio] {
    margin-top: 4px;
    margin-left: 5px;
   
}
</style>        
<div id="ColumnShowHideFileDocument">
    <div class="row">
        <div class='col-sm-12 AppForm'>
            <div class="card card-default">
                <div class="card-header clearfix">
                     <h3 class="card-title">Show / Hide Table  Column </h3>
                </div>
                <div class="card-body">
					<div id="lblFileDocument" class="alert alert-warning " style="display:none;">Table display format successfully saved.</div>
					<div id="lblWarningFileDocument" class="label label-warning " style="display:none;">Select at least one property to display on grid.</div>
                    <div class='form-group'>
                        <div style="margin-bottom:10px;">
						    @*<input type="checkbox" name="col0" checked="checked" style="display:none;" />*@
 @{                           <input type="checkbox" name="col1" checked="checked" style="display:none;" />



        
                               
			property = modelproperties.FirstOrDefault(q => q.Name == "DocumentName");
			if (property != null)
			{
				<input type="checkbox" name="col2" checked="checked" onclick="@ColumnClick (event,'FileDocument')" /> @property.DisplayName
			}
			property = modelproperties.FirstOrDefault(q => q.Name == "Description");
			if (property != null)
			{
				<input type="checkbox" name="col3" checked="checked" onclick="@ColumnClick (event,'FileDocument')" /> @property.DisplayName
			}
			property = modelproperties.FirstOrDefault(q => q.Name == "AttachDocument");
			if (property != null)
			{
				<input type="checkbox" name="col4" checked="checked" onclick="@ColumnClick (event,'FileDocument')" /> @property.DisplayName
			}
			property = modelproperties.FirstOrDefault(q => q.Name == "DateCreated");
			if (property != null)
			{
				<input type="checkbox" name="col5" checked="checked" onclick="@ColumnClick (event,'FileDocument')" /> @property.DisplayName
			}
			property = modelproperties.FirstOrDefault(q => q.Name == "DateLastUpdated");
			if (property != null)
			{
				<input type="checkbox" name="col6" checked="checked" onclick="@ColumnClick (event,'FileDocument')" /> @property.DisplayName
			}
}
                        </div>
                       <input type="button" id="btnSave" value="Set as Default" onclick="showhideSaveCookies(event, 'FileDocument', '@User.JavaScriptEncodedName','@ViewData["AssociatedType"]');" class="btn btn-primary" />
                       <input type="button" id="btnClose" value="Close"  onclick="$('#FileDocumentRefresh').click();" class="btn btn-secondary"/>
				    </div>
                </div>
            </div>
        </div>
    </div>
</div>
 

